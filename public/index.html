<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>RasterVis</title>
    <!-- Bootstrap -->
    <link href="css/main.css" rel="stylesheet">
  </head>
  <body role="document">
    <div class="container">
      <div class="row" id="TitlePanel">
       <h2 class="col-md-3" id="title">RasterVis</h2>
        <button type="button" class="btn btn-lg bottom-buffer" id="help-button" aria-label="Help">
          <span class="glyphicon glyphicon-question-sign" aria-hidden="true"></span>
        </button>
      </h1>
      </div>
      <div class="row" id="filterNav">
            <div id="subjectMenu" class="col-md-2">
                <b>Subject:</b><br>
                <select name="subject-list" class="form-control">
                </select>
            </div>
            <div id="sessionMenu" class="col-md-2">
                <b>Recording Session:</b><br>
                <select name="session-list" class="form-control">
                </select>
            </div>
            <div id="neuronMenu" class="col-md-2">
              <b>Neuron:</b><br>
              <select name="neuron-list" class="form-control">
              </select>
            </div>
            <div id="factorSortMenu" class="col-md-3">
              <b>Sort by Experimental Factor:</b><br>
              <select class="form-control">
              </select>
            </div>
            <div id="timeMenu" class="col-md-3">
              <b>Time relative to:</b><br>
              <select class="form-control">
              </select>
            </div>
        </div>
        <div class="row">
          <div id="showLines" class="col-md-2">
            <label>
              <input type="checkbox" checked="checked"> Show lines
            </label>
          </div>
          <div id="showRaster" class="col-md-2">
            <label>
              <input type="checkbox" checked="checked"> Show raster
            </label>
          </div>
          <div id="lineSmooth" class="col-md-2 text-center">
            <label>
              <input type="range" min=5 value=20 max=1000 step=5></input>
              <output id="lineSmooth-value">Smoothing: 20 ms</output>
            </label>
          </div>
        </div>
        <div id="chart" class="row"></div>
      </div>
    <script src="js/vendor.js"></script>
    <script src="js/main.js"></script>
    <script>
    // Extract parameters from the browser
  var extractedParams = {};
  var query = window.location.search.substring(1);
  if (query !== "") {
    var vars = query.split("&");
    vars.forEach(function(v) {
      var p = v.split("=");
      var isUndefined = (typeof(p[1]) === 'undefined');
      var isEmpty = (p[1] === "");
      if (isUndefined || isEmpty) {
        extractedParams[p[0]] = null;
      } else {
        extractedParams[p[0]] = decodeURI(p[1]);
      }
    });
  }

      // Initialized visualization
      rasterVis.init(extractedParams);
      </script>
  </body>
</html>
